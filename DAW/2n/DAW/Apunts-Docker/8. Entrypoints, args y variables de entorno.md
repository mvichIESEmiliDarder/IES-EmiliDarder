## 1. Entrypoint vs CMD  

| Característica | **ENTRYPOINT** | **CMD** |
|---|---|---|
| Se ejecuta siempre | ✔️ | ✔️ (solo si no se pasa otro comando) |
| Sobrescribible con `docker run` | ❌ | ✔️ |
| Los argumentos de `docker run` se añaden como *args* a ENTRYPOINT | ✔️ | ✔️ |

**Ejemplo práctico**

```dockerfile
FROM alpine
ENTRYPOINT ["echo", "Hola"]
CMD ["Mundo"]
```

- `docker build -t saludador .`
- `docker run saludador` → `echo Hola Mundo`
- `docker run saludador dockermaniatico` → `echo Hola dockermaniatico`

---

## 2. ARG – Argumentos en la construcción  

| Instrucción | Función | Ejemplo breve |
|---|---|---|
| **ARG** | Declara un argumento con valor por defecto, usable durante `docker build` | `ARG NOMBRE="Mundo"` |

```dockerfile
FROM alpine
ARG NOMBRE="Mundo"
RUN echo "Hola $NOMBRE" > /message
CMD ["cat", "/message"]
```

- Construcción estándar: `docker build -t saludador .`
- Con argumento personalizado:  
  `docker build --build-arg NOMBRE=dockermaniatico -t saludador .`

---

## 3. Variables de entorno en tiempo de ejecución  

| Opción | Función | Ejemplo breve |
|---|---|---|
| **-e / --env** | Pasa variable de entorno al contenedor | `docker run -e DEBUG=1 mi_aplicacion` |

```python
# Código Python que lee la variable DEBUG
import os

if os.getenv("DEBUG"):
    print("Modo de depuración activado")
else:
    print("Modo de depuración desactivado")
```

---

## 4. Filosofía: Ser lo más agnóstico posible  

- **Objetivo**: Imágenes que no dependan de un entorno concreto.  
- **Ejemplo práctico**: Base de datos MariaDB con variables `DB_USER`, `DB_PASS`, etc., pasadas en tiempo de ejecución para cada despliegue.  
- **Ventaja**: Una única imagen reutilizable en cualquier entorno (dev, staging, prod).

---

## 5. Resumen  

| Tema | Lo que aprendimos |
|---|---|
| ENTRYPOINT / CMD | Diferencia y cómo sobrescribir |
| ARG | Parametrizar la construcción sin modificar Dockerfile |
| ENV (docker run) | Pasar configuraciones en tiempo de ejecución |
| Agnosticismo | Diseñar imágenes flexibles y reutilizables |

> En próximos episodios: gestión de imágenes, volúmenes y redes.  

---