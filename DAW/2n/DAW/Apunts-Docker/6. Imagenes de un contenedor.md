# Slides – Docker Images  
*(Formato Markdown)*  

---

## 1. ¿Qué es una imagen?  
- Contiene **todos los elementos** necesarios para ejecutar un contenedor.  
- Funciona como una *plantilla* que se utiliza para crear contenedores.  

---

## 2. Propiedades clave de las imágenes  
### Inmutabilidad  
- Una vez creada, **no puede modificarse**.  
- Para cambiar algo, se crea una nueva imagen (desde la anterior o desde cero).  
- Permite controlar versiones y garantizar consistencia en cualquier entorno.  

### Capas  
- La imagen está compuesta por **una serie de capas**.  
- Cada capa representa un cambio concreto del sistema de archivos.  
- Las capas pueden ser reutilizadas entre imágenes, reduciendo tamaño y tiempo de construcción.  

---

## 3. Estructura práctica: Capas en acción  
```bash
# Descargar imágenes de ejemplo
docker pull nginx
docker pull alpine
```

### Ver historial (capas)  
```bash
docker history nginx
docker history alpine
```
- Cada línea corresponde a una capa con su propia funcionalidad (ej. instalación, configuración).  

---

## 4. Imagen basada en Alpine – Ejemplo concreto  
```bash
docker pull alpine:3.19
docker pull nginx:stable-alpine3.19
```

**Observación:**  
Al hacer `pull` de la imagen `nginx:stable-alpine3.19`, Docker comparte una capa con `alpine:3.19`.  
Ejemplo del output:

```text
bca4290a9639: Already exists <--- Capa compartida con alpine
32b20be2efbb: Pull complete
...
```

---

## 5. Ventajas de las capas  
- **Eficiencia de almacenamiento:** solo se descargan capas nuevas.  
- **Rapidez en la creación de contenedores:** Docker monta las capas existentes localmente.  

---

## 6. Gestión de imágenes – Borrar una imagen  
1. Listar imágenes locales:  
   ```bash
   docker images
   ```
2. Eliminar por nombre:  
   ```bash
   docker rmi nginx
   ```
3. Eliminar por ID (ejemplo):  
   ```bash
   docker rmi 7faa5d3a2af2
   ```

---

## 7. Prune de imágenes – Limpiar lo que no se usa  
- Elimina **todas** las imágenes que no están asociadas a ningún contenedor.  

```bash
docker image prune
```
> Se recomienda revisar antes con `docker images` para evitar eliminar accidentalmente algo necesario.

---

## 8. Resumen rápido  
| Tema | Concepto |
|------|----------|
| **Imagen** | Plantilla de un contenedor |
| **Inmutabilidad** | No se puede cambiar una vez creada |
| **Capas** | Cambios aislados, reutilizables |
| **Historial** | `docker history` muestra capas |
| **Pull compartido** | Capas comunes entre imágenes |
| **Borrar** | `docker rmi <id/nombre>` |
| **Prune** | `docker image prune` elimina sin uso |

---

### ¡Listo!  
Con estos conceptos podrás manejar y optimizar las imágenes Docker de forma eficiente.