# üì¶ Docker ‚Äì Arrancar Contenedores  

---
##  1Ô∏è‚É£ ¬øQu√© es `docker run`?

El comando `docker run` es la instrucci√≥n fundamental que le dice al **Docker Engine** que **cree e inicie un nuevo Contenedor** a partir de una **Imagen** espec√≠fica.

Es el paso que transforma una plantilla est√°tica (la Imagen) en un proceso activo y aislado (el Contenedor).

```bash
docker run <imagen>
```

- Inicia un contenedor a partir de una imagen.
- Si la imagen no est√° local, Docker la descarga autom√°ticamente desde **Docker Hub**.

*Ejemplo:*  Arrancar nginx  

```bash
docker run nginx
```

---

## 2Ô∏è‚É£ Listar contenedores

| Comando | ¬øQu√© muestra? |
|---------|----------------|
| `docker ps` | Contenedores en ejecuci√≥n |
| `docker ps -a` | Todos los contenedores (en ejecuci√≥n + detenidos) |

*Ejemplo:*

```bash
docker ps
```

---

## 3Ô∏è‚É£ Opciones comunes de `docker run`

| Opci√≥n | Significado | Ejemplo |
|--------|-------------|---------|
| `-d` | Segundo plano (detached) | `docker run -d nginx` |
| `-p host:container` | Mapear puertos | `-p 8080:80` |
| `-v host_dir:container_dir` | Volumen | `-v /data:/app/data` |
| `--name nombre` | Asignar nombre | `--name mi_nginx` |
| `--rm` | Eliminar al parar | `--rm nginx` |
| `-e VAR=valor` | Variable de entorno | `-e DEBUG=true` |
| `--env-file archivo.env` | Variables desde fichero | `--env-file .env` |

---

## 4Ô∏è‚É£ Identificar contenedores

Ejemplo salida de `docker ps`:

```
CONTAINER ID   IMAGE     COMMAND                  CREATED             STATUS             PORTS     NAMES
e9267a9edf3d   nginx     "/docker-entrypoint.‚Ä¶"   About an hour ago   Up About an hour   80/tcp    vigorous_noether
```

- **ID**: `e9267a9edf3d`
- **Nombre**: `vigorous_noether`
  
Estos valores se usan en comandos posteriores (`logs`, `stop`, etc.).

---

## 5Ô∏è‚É£ Salida y control del contenedor

| Situaci√≥n | Comando |
|-----------|---------|
| Contenedor en primer plano | `docker run nginx` ‚Üí muestra logs en terminal |
| Contenedor en segundo plano | `docker run -d nginx` |
| Ver logs de un contenedor | `docker logs <id>`  (o `-f` para seguir) |
| Acoplarse a un contenedor activo | `docker attach <id>` |
| Desacoplar sin parar | **Ctrl + p** luego **q** |
| Parar contenedor en primer plano | **Ctrl + c** |

---

## 6Ô∏è‚É£ Pol√≠tica de reinicio

`--restart` controla el comportamiento cuando un contenedor falla o se detiene.

| Valor | Significado |
|-------|-------------|
| `no` | No se reinicia (por defecto) |
| `always` | Reinicia siempre, incluso tras reboot del host |
| `unless-stopped` | Reinicia salvo que sea detenido manualmente |
| `on-failure` | Solo si falla |
| `on-failure:<n>` | Si falla < n> veces |

Ejemplo:
```bash
docker run --restart always nginx
```

---

## 7Ô∏è‚É£ Mapeo de puertos

Para exponer un servicio interno al host:

```bash
docker run -d -p 8080:80 nginx
```
- **Host** `8080` ‚Üí **Contenedor** `80`.

Acceso: `http://localhost:8080`

---
## 8Ô∏è‚É£ Mapeos avanzados

| Escenario | Comando |
|-----------|---------|
| Varias puertos individuales | `docker run -d -p 8080:80 -p 8081:81 nginx` |
| Rango de puertos | `docker run -d -p 8080-8085:80 nginx` |

---

## 9Ô∏è‚É£ Resumen r√°pido

| Tema | Comando clave |
|------|---------------|
| Arrancar contenedor | `docker run <imagen>` |
| En background | `-d` |
| Mapear puertos | `-p host:container` |
| Pol√≠tica de reinicio | `--restart <policy>` |
| Ver contenedores | `docker ps`, `docker ps -a` |
| Logs | `docker logs <id>` |

> **Pr√≥ximo paso:** detenci√≥n, reinicio y eliminaci√≥n de contenedores.

---

### üéì ¬°Listo para crear tus propios contenedores! üöÄ
