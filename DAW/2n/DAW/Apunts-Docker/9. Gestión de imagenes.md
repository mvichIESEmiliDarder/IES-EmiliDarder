# 📦 Docker Images – From Containers to Repositories  

## 1️⃣ Commit – Crear una imagen a partir de un contenedor

| Concepto | Descripción |
|----------|-------------|
| **¿Qué es?** | Captura el estado actual de un contenedor (fs, mem, etc.) y crea una nueva imagen. |
| **Uso típico** | Igual que hacer un *snapshot* de una VM. |

```bash
# Sintaxis general
docker commit <container_id> <nombre_imagen>

# Ejemplo concreto
docker commit 1234567890ab mi-imagen
```

---

## 2️⃣ Save & Load – Exportar e importar imágenes

| Acción | Comando | Detalle |
|--------|---------|---------|
| **Exportar** | `docker save -o <file>.tar <image>` | Guarda la imagen en un fichero tar. |
| **Importar** | `docker load -i <file>.tar` | Carga la imagen desde el tar. |

```bash
# Exportar mi-imagen a un tar
docker save -o mi-imagen.tar mi-imagen

# Importar la misma imagen de nuevo
docker load -i mi-imagen.tar
```

---

## 3️⃣ Tags – Nombre y etiquetas de las imágenes

| Acción | Comando | Ejemplo |
|--------|---------|---------|
| **Crear/Modificar tag** | `docker tag <image>:<tag> <new_image>:<new_tag>` | Cambiar nombre o versión. |

```bash
# Renombrar mi-imagen:latest a mi-imagen-v1:latest
docker tag mi-imagen:latest mi-imagen-v1:latest
```

> **Tip**: El *tag* `latest` es el por defecto si no se especifica ninguno.

---

## 4️⃣ Repositorios – Subir y descargar imágenes

| Acción | Comando | Descripción |
|--------|---------|-------------|
| **Buscar** | `docker search <query>` | Busca en Docker Hub. |
| **Descargar** | `docker pull <image>` | Obtiene la imagen del registro remoto. |
| **Subir** | `docker push <image>` | Envía la imagen al registro remoto. |

```bash
# Buscar nginx
docker search nginx

# Descargar nginx
docker pull nginx
```

---

## 5️⃣ Subir a Docker Hub

1. **Taggear con tu usuario y repositorio**

   ```bash
   docker tag mi-imagen:latest pabpereza/mi-imagen:latest
   ```

2. **Push al hub**

   ```bash
   docker push pabpereza/mi-imagen:latest
   ```

> Asegúrate de haber `docker login` antes de hacer el push.

---

## 6️⃣ Subir a repositorios remotos (no Docker Hub)

| Paso | Acción |
|------|--------|
| **Taggear con la URL del registro** | `docker tag mi-imagen:latest github.com/pabpereza/mi-imagen:latest` |
| **Push al remoto** | `docker push github.com/pabpereza/mi-imagen:latest` |

```bash
# Ejemplo completo
docker tag mi-imagen:latest github.com/pabpereza/mi-imagen:latest
docker push github.com/pabpereza/mi-imagen:latest
```

> **Nota**: El registro remoto debe estar configurado y accesible (puede requerir autenticación).

---

## 🎯 Resumen rápido

- `docker commit` → Imagen desde contenedor.
- `docker save / load` → Exportar/importar a tar.
- `docker tag` → Cambiar nombre/etiqueta.
- `docker pull / push / search` → Interacción con registros (Docker Hub u otros).
