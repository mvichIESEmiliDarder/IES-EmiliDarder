# Directivas de Configuración de _Virtual Host_

| **Directiva**        | **Ubicación Típica**     | **Propósito Principal**                                                                                                        |
| -------------------- | ------------------------ | ------------------------------------------------------------------------------------------------------------------------------ |
| **`ServerName`**     | `<VirtualHost>`          | Define el **nombre de dominio** principal (URL) que este bloque de configuración servirá.                                      |
| **`ServerAdmin`**    | `<VirtualHost>`          | Especifica la **dirección de correo** del administrador del sitio (se usa en páginas de error).                                |
| **`DocumentRoot`**   | `<VirtualHost>`          | Define la **ruta del sistema de archivos** donde Apache buscará los archivos para este sitio (la raíz del sitio web).          |
| **`DirectoryIndex`** | Global o `<VirtualHost>` | Define el **nombre de archivo** que se cargará por defecto cuando se acceda a un directorio (ej., `index.html` o `index.php`). |

---

# Directivas de Control de Acceso y Comportamiento

Las secciones delimitadas por etiquetas (como `<Directory>`, `<Location>`, `<Files>`) permiten aplicar directivas de manera específica a rutas del sistema de archivos, URLs o nombres de archivos.

## 1. Control por **Ruta del Sistema de Archivos**

|**Directiva**|**Bloque**|**Propósito**|
|---|---|---|
|**`<Directory>`**|N/A|Aplica directivas a una **ruta física** específica en el disco duro del servidor (ej., `/var/www/html/mi_app`).|
|**`Options`**|`<Directory>`|Controla las características del directorio:|
||**`-Indexes`**|**Impide** que Apache liste el contenido del directorio si falta un `DirectoryIndex` (Buena Práctica).|
||**`+Indexes`**|**Permite** que Apache genere un listado del contenido del directorio.|
||**`+FollowSymLinks`**|Permite que Apache siga enlaces simbólicos dentro de este directorio.|
|**`AllowOverride`**|`<Directory>`|Especifica qué directivas pueden ser **sobrescritas** usando archivos `.htaccess` dentro de ese directorio. `None` es más seguro.|
|**`Require`**|`<Directory>`|Define la política de acceso.|
||**`Require all granted`**|Permite el acceso a todos.|
||**`Require all denied`**|Bloquea el acceso a todos.|

---

## 2. Control por **URL** y **Nombre de Archivo**

| **Directiva**    | **Bloque**       | **Propósito**                                                                                                                                                |
| ---------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`<Location>`** | N/A              | Aplica directivas a una **ruta URL abstracta** (ej., `/login` o `/api`). Ideal para manejar URLs que no se corresponden directamente con una carpeta física. |
| **`<Files>`**    | N/A              | Aplica directivas basándose en el **nombre del archivo**, sin importar en qué directorio se encuentre.                                                       |
|                  | **`~ "\.bak$"`** | Usa **expresiones regulares** para aplicar la directiva a cualquier archivo que termine en `.bak`.                                                           |

---

# Resumen de la Lógica de Bloques

|**Bloque**|**Basado en...**|**Aplicación Común**|**Tu Ejemplo**|
|---|---|---|---|
|**`<Directory>`**|Ruta del **Sistema de Archivos**|Seguridad y configuración de directorios físicos (ej., dónde se permite el listado).|Bloquear `oculta`, permitir listado en `vista`.|
|**`<Location>`**|Ruta de la **URL (URI)**|Restricción de acceso a URLs, redirecciones, o configuración de _proxies_.|Restringir el acceso a la URL `/admin/`.|
|**`<Files>`**|**Nombre de Archivo**|Bloqueo de archivos sensibles o específicos por su extensión.|Bloquear el acceso a archivos de _backup_ (`.bak`).|